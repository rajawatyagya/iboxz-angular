<div class="chat chat-container">
  <div class="chat-title">
    <h1>Alina</h1>
    <h2>Virtual Assistant</h2>
    <figure class="avatar">
      <img src="assets/images/alina.png" /></figure>
  </div>
  <div style="overflow: auto; height: 650px;" #scrollMe [scrollTop]="scrollMe.scrollHeight">
    <div *ngFor="let message of messages | async ; let i = index">

      <div class="message" [ngClass]="{ 'from': message.sentBy === 'bot',
                                        'to':   message.sentBy === 'user' }">
        {{ message.content }}
      </div>
    </div>
  </div>
  <mat-grid-list cols="2" rowHeight="1:0.08" class="voice-input">
    <mat-grid-tile class="grid-tile-left">
      <mat-form-field>
        <mat-select placeholder="Select your language"
                    [(ngModel)]="currentLanguage" [disabled]="recognizing">
          <mat-option *ngFor="let language of languages" [value]="language" (click)="onSelectLanguage(language)">
            {{language}}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </mat-grid-tile>
    <mat-grid-tile class="grid-tile-right">
      <button mat-fab (click)="startButton()">
        <mat-icon *ngIf="!recognizing">mic</mat-icon>
        <mat-icon *ngIf="recognizing">stop</mat-icon>
      </button>
    </mat-grid-tile>
    <!--<textarea [(ngModel)]="formValue" (keyup.enter)="sendMessage()" type="text" class="message-input" placeholder="Type message..."></textarea>
    <button (click)="sendMessage()" type="submit" class="message-submit">Send</button>-->
  </mat-grid-list>

  <!--<div class="message-box">

    <button (click)="sendStartMessage()" type="submit" class="message-submit">Start my assessment</button>
  </div>-->

</div>
<div class="bg"></div>
<div class="row" *ngIf="errorMsg">
  <div class="col">
    <p class="alert alert-warning">
      <ng-template [ngIf]="errorMsg">{{errorMsg}}</ng-template>
    </p>
  </div>
</div>
