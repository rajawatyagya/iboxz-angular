<div class="container" fxLayout="column" fxLayoutGap="10px">
  <form novalidate [formGroup]="registrationForm" #candidateForm="ngForm" (ngSubmit)="onSubmit()">
    <mat-accordion class="accordion-container">
      <mat-expansion-panel [expanded]="step === 0" (opened)="setStep(0)">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h3>Personal Details</h3>
          </mat-panel-title>
          <mat-panel-description>
            <p>Please fill these details as per government documents</p>
          </mat-panel-description>
        </mat-expansion-panel-header>
        <div class="container" fxLayout="column wrap" fxLayout.gt-sm="row"  fxLayoutAlign="center center">

          <div fxFlex="30">
            <div>
              <i class="image-holder fa fa-user-o"></i>
              <div>
                <table>
                  <td>
                    <button type="button" mat-button class="background-primary flex-spacer text-floral-white">Upload Image</button>
                  </td>
                  <td>
                    <button type="button" mat-button class="background-primary flex-spacer text-floral-white">Delete</button>
                  </td>
                </table>
              </div>
            </div>
          </div>

          <div fxFlex="70">
            <p>
              <mat-select placeholder="Title" class="half-width reg-container" formControlName="title">
                <mat-option *ngFor="let title of nameTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class=" half-width reg-container">
                <input matInput formControlName="firstName" placeholder="First Name" type="text" required>
                <mat-error *ngIf="registrationForm.get('firstName').hasError('required') && registrationForm.get('firstName').touched">
                  First Name is required
                </mat-error>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput formControlName="middleName" placeholder="Middle Name" type="text">
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput formControlName="lastName" placeholder="Last Name" type="text" required>
                <mat-error *ngIf="registrationForm.get('lastName').hasError('required') && registrationForm.get('lastName').touched">
                  Last Name is required
                </mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="mobile" placeholder="Mobile Number" type="tel" required>
                <mat-error *ngIf="registrationForm.get('mobile').hasError('required') && registrationForm.get('mobile').touched">
                  Tel Number is required
                </mat-error>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="email" placeholder="Email" type="email" required>
                <mat-error *ngIf="registrationForm.get('email').hasError('required') && registrationForm.get('email').touched">
                  Email is required
                </mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-select placeholder="Gender" class="half-width reg-container" formControlName="gender">
                <mat-option *ngFor="let gen of genderType" [value]="gen">
                  {{ gen }}
                </mat-option>
              </mat-select>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="picker" formControlName="dateOfBirth" placeholder="Date of Birth" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                <mat-datepicker #picker startView="year" [startAt]="startDate"></mat-datepicker>
                <mat-error *ngIf="registrationForm.get('dateOfBirth').hasError('required') && registrationForm.get('dateOfBirth').touched">
                  Date of birth is required
                </mat-error>
              </mat-form-field>
            </p>
            <p>
              <mat-select placeholder="Title" class="min-width reg-container" formControlName="title">
                <mat-option *ngFor="let title of nameTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class=" min-width reg-container">
                <input matInput formControlName="fatherFirstName" placeholder="Father's First Name" type="text">
              </mat-form-field>
              <mat-form-field class=" min-width reg-container">
                <input matInput formControlName="fatherMiddleName" placeholder="Father's Middle Name" type="text">
              </mat-form-field>
              <mat-form-field class=" min-width reg-container">
                <input matInput formControlName="fatherLastName" placeholder="Father's Last Name" type="text">
              </mat-form-field>
            </p>
          </div>
        </div>
        <p>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="panNumber" placeholder="PAN Number" type="text">
          </mat-form-field>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="aadharNumber" placeholder="Aadhar Number" type="text">
          </mat-form-field>
        </p>
        <div class="full-width lang-container" formArrayName="languages">
          <div class="selector">
            <mat-select placeholder="Languages Known (max 10)" class="full-width reg-container" >
              <mat-option *ngFor="let lang of languages" (click)="addLanguage(lang)" [disabled]="language.length >= 10">
                {{ lang }}
              </mat-option>
            </mat-select>
          </div>
          <div class="selector">
            <div class="lang-container" *ngFor="let lang of language.controls; let i = index;"
                 [formGroupName]="i">
              <span *ngIf="lang.value.name" class="selector lang-checkbox lang-container">
                <span class="selector">
                  {{lang.value.name}}
                </span>
                <span>
                  <button type="button" class="icon-button" (click)="deleteLanguage(i)"><i class="fa fa-minus-square-o"></i></button>
                </span>
              </span>
              <span *ngIf="lang.value.name" >
                <label>Read
                  <input class="lang-checkbox" type="checkbox" formControlName="read">
                </label>
                <label>Write
                  <input class="lang-checkbox" type="checkbox" formControlName="write">
                </label>
                <label>Speak
                  <input class="lang-checkbox" type="checkbox" formControlName="speak">
                </label>
                <label>Native
                  <input class="lang-checkbox" type="checkbox" formControlName="native">
                </label>
              </span>
            </div>
          </div>
        </div>
        <mat-action-row>
          <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
          <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
          <span class="flex-spacer"></span>
          <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-accordion class="accordion-container">

      <mat-expansion-panel formGroupName="address" [expanded]="step === 1" (opened)="setStep(1)">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h3>Address Details</h3>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <div formGroupName="presentAddress">
          <h3>Present Address</h3>
          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="addressLine1" placeholder="Address Line 1" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="addressLine2" placeholder="Address Line 2" type="text">
            </mat-form-field>
          </p>

          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="city" placeholder="City" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="state" placeholder="State" type="text" >
            </mat-form-field>
          </p>
          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="zipCode" placeholder="Pin Code" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="country" placeholder="Country" type="text">
            </mat-form-field>
          </p>
        </div>
        <p>
          <label>
            <input type="checkbox" formControlName="checked"> Present Address is Permanent Address Also?
          </label>
          <!--<mat-checkbox  (click)="checkedOn()" class="half-width reg-container">Present Address is Permanent Address Also?</mat-checkbox>-->
        </p>
        <div formGroupName="permanentAddress" *ngIf="!registrationForm.controls['address'].value.checked">
          <h3>Permanent Address</h3>
          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="addressLine1" placeholder="Address Line 1" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="addressLine2" placeholder="Address Line 2" type="text">
            </mat-form-field>
          </p>

          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="city" placeholder="City" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="state" placeholder="State" type="text" >
            </mat-form-field>
          </p>
          <p>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="zipCode" placeholder="Pin Code" type="text">
            </mat-form-field>
            <mat-form-field class="half-width reg-container">
              <input matInput formControlName="country" placeholder="Country" type="text">
            </mat-form-field>
          </p>
        </div>
        <mat-action-row>
          <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="">
            Save</button>
          <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
          <span class="flex-spacer"></span>
          <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
          <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>

    <mat-card>
      <mat-card-header>
        <mat-card-title>
          <h3>Education Details</h3>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <mat-accordion formGroupName="highSchool" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 2" (opened)="setStep(2)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">High School</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="courseTitle" placeholder="Course Title" type="text" required>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" required>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" >Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="higherSecondary" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 3" (opened)="setStep(3)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Higher Secondary</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of higherSecTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" required>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom1" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom1"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom1 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo1" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo1"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo1 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="higherSecEqDiploma" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 4" (opened)="setStep(4)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Equivalent Diploma</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of diplomaTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" [matAutocomplete]="auto2" required>
                <mat-autocomplete #auto2="matAutocomplete">
                  <mat-option *ngFor="let institute of filteredHigherSecInstitute | async" [value]="institute">
                    <span>{{institute}}</span>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom2" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom2"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom2 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo2" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo2"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo2 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="graduation" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 5" (opened)="setStep(5)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Graduation</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of gradTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" [matAutocomplete]="auto1" required>
                <mat-autocomplete #auto1="matAutocomplete">
                  <mat-option *ngFor="let institute of filteredGradInstitute | async" [value]="institute">
                    <span>{{institute}}</span>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom3" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom3"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom3 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo3" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo3"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo3 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="postGraduation" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 6" (opened)="setStep(6)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Post Graduation</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of postGradTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" [matAutocomplete]="auto3" required>
                <mat-autocomplete #auto3="matAutocomplete">
                  <mat-option *ngFor="let institute of filteredPostGradInstitute | async" [value]="institute">
                    <span>{{institute}}</span>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom4" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom4"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom4 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo4" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo4"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo4 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="otherDiploma" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 7" (opened)="setStep(7)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Other Diploma Qualification</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of diplomaTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" [matAutocomplete]="auto4" required>
                <mat-autocomplete #auto4="matAutocomplete">
                  <mat-option *ngFor="let institute of filteredOtherDiplomaInstitute | async" [value]="institute">
                    <span>{{institute}}</span>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom5" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom5"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom5 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo5" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo5"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo5 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-accordion formGroupName="otherQualification" class="accordion-container">
          <mat-expansion-panel [expanded]="step === 8" (opened)="setStep(8)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 class="reg-container">Any Other Qualification</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>
            <p>
              <mat-select placeholder="Course Title" class="half-width reg-container" formControlName="courseTitle">
                <mat-option *ngFor="let title of otherQualTitle" [value]="title">
                  {{ title }}
                </mat-option>
              </mat-select>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Specialization Or Major Subject" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="institute" placeholder="Institute / University" type="text" [matAutocomplete]="auto5" required>
                <mat-autocomplete #auto5="matAutocomplete">
                  <mat-option *ngFor="let institute of filteredOtherQualInstitute | async" [value]="institute">
                    <span>{{institute}}</span>
                  </mat-option>
                </mat-autocomplete>
              </mat-form-field>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="college" placeholder="College" type="text" required>
              </mat-form-field>
            </p>
            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom6" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom6"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom6 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo6" formControlName="endDate" placeholder="End Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerTo6"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo6 startView="multi-year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
            </p>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
      </mat-card-content>
    </mat-card>

    <mat-card class="accordion-container-custom">
      <mat-card-header>
        <mat-card-title>
          <h3>Experience -- {{totalYears}} Years {{totalMonth}} Months</h3>
        </mat-card-title>
      </mat-card-header>
      <mat-card-content >
        <mat-accordion formArrayName="experience" class="accordion-container">
          <mat-expansion-panel *ngFor="let item of experience.controls; let i = index;"
                               [formGroupName]="i" [expanded]="step === i + 9" (opened)="setStep(i + 9)">
            <mat-expansion-panel-header>
              <mat-panel-title>
                <h3 *ngIf="item.value.company" class="reg-container">{{item.value.company}} ({{item.value.startDate | date}} - {{item.value.endDate | date}})
                  {{ item.value.duration}} Months</h3>
              </mat-panel-title>
            </mat-expansion-panel-header>

            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="title" placeholder="Designation" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="company" placeholder="Company Name" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-slide-toggle class=" half-width reg-container" formControlName="current" (toggleChange)="currentExp(i)">Current?</mat-slide-toggle>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="industry" placeholder="Industry" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="department" placeholder="Department" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="functionalArea" placeholder="Functional Area" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="role" placeholder="Role" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="scope" placeholder="Scope" type="text">
              </mat-form-field>
            </p>

            <div formArrayName="implementedSkills">
              <mat-form-field class="half-width reg-container">
                <input #implementedSkill matInput placeholder="Skill-Sets implemented" type="text">
              </mat-form-field>
              <button type="button" class="icon-button" (click)="addImplementedSkillSet(implementedSkill.value, i); implementedSkill.value = '';"><i class="fa fa-plus-square-o"></i></button>
              <div class="lang-container reg-container full-width" *ngFor="let skill of implementedSkillsArray(i).controls; let j = index;"
                   [formGroupName]="j">
                  <span *ngIf="skill.value.name" class="selector lang-checkbox lang-container">
                    <span class="selector">
                      {{skill.value.name}}
                    </span>
                    <span>
                      <button type="button" class="icon-button" (click)="deleteImpSkill(i , j)"><i class="fa fa-minus-square-o"></i></button>
                    </span>
                  </span>
                <span *ngIf="skill.value.name">
                    <mat-radio-group formControlName="proficiency">
                      <mat-radio-button value="beginner">
                        Beginner
                      </mat-radio-button>
                      <mat-radio-button value="intermediate">
                        Intermediate
                      </mat-radio-button>
                      <mat-radio-button value="advanced">
                        Advanced
                      </mat-radio-button>
                    </mat-radio-group>
                  </span>
              </div>
            </div>

            <div formArrayName="acquiredSkills">
              <mat-form-field class="half-width reg-container">
                <input #acquiredSkill matInput placeholder="Skill-Sets acquired" type="text">
              </mat-form-field>
              <button type="button" class="icon-button" (click)="addAcquiredSkillSet(acquiredSkill.value, i); acquiredSkill.value = '';"><i class="fa fa-plus-square-o"></i></button>
              <div class="lang-container reg-container full-width" *ngFor="let skill of acquiredSkillsArray(i).controls; let k = index;"
                   [formGroupName]="k">
                  <span *ngIf="skill.value.name" class="selector lang-checkbox lang-container">
                    <!--<mat-divider *ngIf="k===0"></mat-divider>-->
                    <span class="selector">
                      {{skill.value.name}}
                    </span>
                    <span>
                      <button type="button" class="icon-button" (click)="deleteAcqSkill(i , k)"><i class="fa fa-minus-square-o"></i></button>
                    </span>
                  </span>
                <span *ngIf="skill.value.name" >
                    <mat-radio-group formControlName="proficiency">
                      <mat-radio-button value="beginner">
                        Beginner
                      </mat-radio-button>
                      <mat-radio-button value="intermediate">
                        Intermediate
                      </mat-radio-button>
                      <mat-radio-button value="advanced">
                        Advanced
                      </mat-radio-button>
                    </mat-radio-group>
                  </span>
              </div>
            </div>

            <p>
              <span class="reg-container">Duration</span><br>
              <mat-form-field class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerFrom8" formControlName="startDate" placeholder="Start Date" type="text" required>
                <mat-datepicker-toggle matSuffix [for]="pickerFrom8"></mat-datepicker-toggle>
                <mat-datepicker #pickerFrom8 startView="year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field *ngIf="!item.value.current" class=" half-width reg-container">
                <input matInput [matDatepicker]="pickerTo8" formControlName="endDate" placeholder="End Date" type="text" required
                       (dateInput)="calculateDuration(item)">
                <mat-datepicker-toggle matSuffix [for]="pickerTo8"></mat-datepicker-toggle>
                <mat-datepicker #pickerTo8 startView="year" [startAt]="startDate"></mat-datepicker>
              </mat-form-field>
              <mat-form-field *ngIf="item.value.current" class=" half-width reg-container">
                <input matInput formControlName="noticePeriod" placeholder="Notice Period" type="text">
              </mat-form-field>
            </p>
            <p>
              <mat-form-field class="half-width reg-container">
                <input matInput formControlName="salary" placeholder="Annual Salary INR (â‚¹)" type="number" pattern="\d*" min=50000 step=1000>
              </mat-form-field>
            </p>
            <p class="full-width reg-container" formGroupName="docsAvailable">
              <span>Documents Available</span><br>
              <label>Offer Letter
                <input class="lang-checkbox" type="checkbox" formControlName="offerLetter">
              </label>
              <label>Last three months Salary Slip
                <input class="lang-checkbox" type="checkbox" formControlName="salarySlip">
              </label>
              <label>Experience or Relieving Letter
                <input class="lang-checkbox" type="checkbox" formControlName="expOrRelLetter">
              </label>
              <label>Resignation Acceptance Letter
                <input class="lang-checkbox" type="checkbox" formControlName="resignAccept">
              </label>
              <label>Promotion Letter
                <input class="lang-checkbox" type="checkbox" formControlName="promotion">
              </label>
            </p>
            <p>
              <mat-form-field class="full-width reg-container">
                <textarea matInput formControlName="summary" placeholder="Describe your Role" type="text" rows="12"></textarea>
              </mat-form-field>
            </p>
            <button type="button" mat-button class="background-primary text-floral-white" (click)="deleteExperienceGroup(i)">Delete</button>
            <mat-action-row>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
              <span class="flex-spacer"></span>
              <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
              <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="nextStep()">Next</button>
            </mat-action-row>
          </mat-expansion-panel>
        </mat-accordion>
        <mat-card-actions class="custom-button">
          <button type="button" mat-button class="custom-button background-primary text-floral-white" (click)="addExperience()">Add Experience</button>
        </mat-card-actions>
      </mat-card-content>
    </mat-card>

    <mat-accordion class="accordion-container">
      <mat-expansion-panel [expanded]="step === last" (opened)="setStep(last)">
        <mat-expansion-panel-header>
          <mat-panel-title>
            <h3>Additional Details</h3>
          </mat-panel-title>
        </mat-expansion-panel-header>
        <p>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="resume" placeholder="Resume" type="text">
          </mat-form-field>
        </p>
        <p>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="facebook" placeholder="Facebook Link" type="text">
          </mat-form-field>
        </p>

        <p>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="twitter" placeholder="Twitter Link" type="text">
          </mat-form-field>
        </p>

        <p>
          <mat-form-field class="half-width reg-container">
            <input matInput formControlName="linkedIn" placeholder="LinkedIn Link" type="text">
          </mat-form-field>
        </p>
        <mat-action-row>
          <button type="button" mat-button class="custom-button background-primary text-floral-white">Save</button>
          <button type="button" mat-button class="custom-button background-primary text-floral-white">Reset</button>
          <span class="flex-spacer"></span>
          <button type="button" mat-button color="warn" class="custom-button" (click)="prevStep()">Previous</button>
        </mat-action-row>
      </mat-expansion-panel>
    </mat-accordion>
    <div class="container" fxLayout="row" fxLayoutAlign="space-between center" fxLayoutGap="10px">
      <button type="button" mat-button class="background-primary text-floral-white button-custom"
      >Save</button>
      <button mat-button type="submit" class="background-primary text-floral-white button-custom"
              >Submit</button>
    </div>
  </form>
</div>
